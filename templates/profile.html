{% extends 'base.html' %}
{% load static %}
{% block title %}
Profile
{% endblock %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}

{% block content %}
<div id="profile" class="container">   
    <nav aria-label="breadcrumb" class="m-3">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>        
            <li class="breadcrumb-item active" aria-current="page">Profile</li>
        </ol>
    </nav> 
    <div id="info" class="m-3 p-3 border rounded">
        <div class="d-flex justify-content-between">
            <h4 class="d-block">Profile</h4>    
            <a href="#collapseInfo" data-toggle="collapse" style="color: black; text-decoration: none;"><i class="fa fa-caret-square-o-up text-right"></i></a>
        </div>    
        <div id="collapseInfo" class="collapse show table-responsive" data-parent="#profile">
            <table class="table">
                <tr>
                    <td><strong>Email</strong></td>
                    <td>{{ profile.user.email }}</td>
                    <td><a href="#">Change email address</a></td>
                </tr>
                <tr>
                    <td><strong>Username</strong></td>
                    <td>{{ profile.user.username }}</td>
                    <td><a href="#">Change username</a></td>
                </tr>
                <tr>
                    <td><strong>Phone number</strong></td>
                    <td>99219571</td>
                    <td><a href="#">Change phone number</a></td>
                </tr>
                <tr>
                    <td><strong>Password</strong></td>
                    <td>* * * * * * * *</td>
                    <td><a href="{% url 'account_change_password' %}">Change password</a></td>
                </tr>
            </table>
        </div>        
    </div> 
    <div id="likelist" class="m-3 p-3 border rounded">        
        <div class="d-flex justify-content-between align-items-center">
            <h4>Favorite list: {{ favoritelist.count }}</h4>    
            <a href="#collapseLikelist" data-toggle="collapse" style="color: black; text-decoration: none;"><i class="fa fa-caret-square-o-up text-right"></i></a>
        </div>   
        <div id="collapseLikelist" class="collapse hide" data-parent="#profile">
            <div class="movielist row p-3">
                {% for movie in favoritelist %}
                <div class="column col-12 col-sm-6 col-md-3 col-lg-2 mb-3">  
                    <div class="card">
                        <a class="card-img" href="{% url 'moviedetail' movie.pk %}">
                            <img class="card-img-top" src="{{ movie.image }}" alt="Card image cap">
                            <div class="card-img-overlay">                                
                                <p>Release: {{ movie.release_date|date:"Y" }}</p>
                                <p>Rating:  {{ movie.rating }}</p>
                                <p>Views:   {{ movie.views }}</p>
                            </div>
                        </a>
                        <a class="card-body text-center" href="{% url 'moviedetail' movie.pk %}" data-toggle="tooltip" data-placement="top" title="{{ movie.name }}">
                            <p class="card-title">{{ movie.name }}</p>
                        </a>                                                
                        <div class="d-flex justify-content-start p-0 text-center">
                            <div class="action like border-top border-right p-2" style="width: 33%;" data-toggle="tooltip" data-placement="top" title="Remove from favorite list" data-id="{{ movie.id }}">
                                <i class="fa fa-thumbs-up"></i>
                            </div>
                            <div class="action watched border-top border-right p-2" style="width: 33%;" data-toggle="tooltip" data-placement="top" title="Remove from watched list" data-id="{{ movie.id }}">
                                <i class="fa fa-check-circle"></i>
                            </div>
                            <div id="watchlist-{{ movie.id }}" class="action watchlist border-top p-2" style="width: 33%;" data-toggle="tooltip" data-placement="top" title="Remove from watchlist" data-id="{{ movie.id }}">
                                <i class="fa fa-plus-square-o"></i>
                            </div>                          
                        </div> 
                    </div>              
                </div> 
                {% endfor %}
            </div>            
        </div>  
    </div> 
    <div id="watchedlist" class="m-3 p-3 border rounded">        
        <div class="d-flex justify-content-between align-items-center">
            <h4>Watched list {{ watchedlist.count }}</h4>    
            <a href="#collapseWatchedlist" data-toggle="collapse" style="color: black; text-decoration: none;"><i class="fa fa-caret-square-o-up text-right"></i></a>
        </div>  
        <div id="collapseWatchedlist" class="collapse hide" data-parent="#profile">
            <div class="movielist row p-3">
                {% for movie in watchedlist %}
                <div class="column col-12 col-sm-6 col-md-3 col-lg-2 mb-3">  
                    <div class="card">
                        <a class="card-img" href="{% url 'moviedetail' movie.pk %}">
                            <img class="card-img-top" src="{{ movie.image }}" alt="Card image cap">
                            <div class="card-img-overlay">                                
                                <p>Release: {{ movie.release_date|date:"Y" }}</p>
                                <p>Rating:  {{ movie.rating }}</p>
                                <p>Views:   {{ movie.views }}</p>
                            </div>
                        </a>
                        <a class="card-body text-center" href="{% url 'moviedetail' movie.pk %}" data-toggle="tooltip" data-placement="top" title="{{ movie.name }}">
                            <p class="card-title">{{ movie.name }}</p>
                        </a>                                                
                        <div class="d-flex justify-content-start p-0 text-center">
                            <div class="action like border-top border-right p-2" style="width: 33%;" data-toggle="tooltip" data-placement="top" title="Remove from favorite list" data-id="{{ movie.id }}">
                                <i class="fa fa-thumbs-up"></i>
                            </div>
                            <div class="action watched border-top border-right p-2" style="width: 33%;" data-toggle="tooltip" data-placement="top" title="Remove from watched list" data-id="{{ movie.id }}">
                                <i class="fa fa-check-circle"></i>
                            </div>
                            <div id="watchlist-{{ movie.id }}" class="action watchlist border-top p-2" style="width: 33%;" data-toggle="tooltip" data-placement="top" title="Remove from watchlist" data-id="{{ movie.id }}">
                                <i class="fa fa-plus-square-o"></i>
                            </div>                          
                        </div> 
                    </div>              
                </div> 
                {% endfor %}
            </div>            
        </div>  
    </div> 
    <div id="watchlist" class="m-3 p-3 border rounded">        
        <div class="d-flex justify-content-between align-items-center">
            <h4>Watchlist {{ watchlist.count }}</h4>    
            <a href="#collapseWatchlist" data-toggle="collapse" style="color: black; text-decoration: none;"><i class="fa fa-caret-square-o-up text-right"></i></a>
        </div>  
        <div id="collapseWatchlist" class="collapse hide" data-parent="#profile">
            <div class="movielist row p-3">
                {% for movie in watchlist %}
                <div class="column col-12 col-sm-6 col-md-3 col-lg-2 mb-3">  
                    <div class="card">
                        <a class="card-img" href="{% url 'moviedetail' movie.pk %}">
                            <img class="card-img-top" src="{{ movie.image }}" alt="Card image cap">
                            <div class="card-img-overlay">                                
                                <p>Release: {{ movie.release_date|date:"Y" }}</p>
                                <p>Rating:  {{ movie.rating }}</p>
                                <p>Views:   {{ movie.views }}</p>
                            </div>
                        </a>
                        <a class="card-body text-center" href="{% url 'moviedetail' movie.pk %}" data-toggle="tooltip" data-placement="top" title="{{ movie.name }}">
                            <p class="card-title">{{ movie.name }}</p>
                        </a>                                                
                        <div class="d-flex justify-content-start p-0 text-center">
                            <div class="action like border-top border-right p-2" style="width: 33%;" data-toggle="tooltip" data-placement="top" title="Remove from favorite list" data-id="{{ movie.id }}">
                                <i class="fa fa-thumbs-o-up"></i>
                            </div>
                            <div class="action watched border-top border-right p-2" style="width: 33%;" data-toggle="tooltip" data-placement="top" title="Remove from watched list" data-id="{{ movie.id }}">
                                <i class="fa fa-check-circle-o"></i>
                            </div>
                            <div id="watchlist-{{ movie.id }}" class="action watchlist border-top p-2" style="width: 33%;" data-toggle="tooltip" data-placement="top" title="Remove from watchlist" data-id="{{ movie.id }}">
                                <i class="fa fa-plus-square"></i>
                            </div>                          
                        </div> 
                    </div>              
                </div> 
                {% endfor %}
            </div>            
        </div>  
    </div>                      
</div>
{% endblock %}


{% block javascript %}
{{ block.super }}
{% endblock %}